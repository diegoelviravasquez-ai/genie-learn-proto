# GENIE Learn — Environment Variables
# =====================================
# Copiar a .env y configurar según entorno

# ─────────────────────────────────────────────────────────────────────
# ENVIRONMENT
# ─────────────────────────────────────────────────────────────────────
ENVIRONMENT=development  # development | staging | production
DEBUG=true

# ─────────────────────────────────────────────────────────────────────
# LLM PROVIDERS (al menos uno requerido para modo full)
# ─────────────────────────────────────────────────────────────────────
OPENAI_API_KEY=sk-...
# ANTHROPIC_API_KEY=sk-ant-...

# ─────────────────────────────────────────────────────────────────────
# API SERVER
# ─────────────────────────────────────────────────────────────────────
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=4
CORS_ORIGINS=http://localhost:8501,http://localhost:3000

# ─────────────────────────────────────────────────────────────────────
# RATE LIMITING
# ─────────────────────────────────────────────────────────────────────
RATE_LIMIT_REQUESTS=60
RATE_LIMIT_WINDOW_SECONDS=60

# ─────────────────────────────────────────────────────────────────────
# DATABASE
# ─────────────────────────────────────────────────────────────────────
DATABASE_URL=sqlite:///./genie_learn.db
DATABASE_ECHO=false

# Para producción con PostgreSQL:
# DATABASE_URL=postgresql://user:password@localhost:5432/genie_learn

# ─────────────────────────────────────────────────────────────────────
# REDIS (opcional, para rate limiting en producción)
# ─────────────────────────────────────────────────────────────────────
# REDIS_URL=redis://localhost:6379/0

# ─────────────────────────────────────────────────────────────────────
# AUTHENTICATION
# ─────────────────────────────────────────────────────────────────────
JWT_SECRET=change-this-in-production-use-strong-random-string
JWT_REFRESH_SECRET=change-this-refresh-secret-too
ACCESS_TOKEN_EXPIRE_HOURS=1
REFRESH_TOKEN_EXPIRE_DAYS=7

# ─────────────────────────────────────────────────────────────────────
# LTI INTEGRATION (para Moodle/Canvas)
# ─────────────────────────────────────────────────────────────────────
LTI_ENABLED=false
LTI_CONSUMER_KEY=genie-learn-uva
LTI_SHARED_SECRET=your-shared-secret
LTI_INSTITUTION=UVa

# LTI 1.3 (si se usa)
# LTI_PLATFORM_ID=https://moodle.uva.es
# LTI_CLIENT_ID=your-client-id
# LTI_DEPLOYMENT_ID=1
# LTI_KEYSET_URL=https://moodle.uva.es/mod/lti/certs.php

# ─────────────────────────────────────────────────────────────────────
# LOGGING
# ─────────────────────────────────────────────────────────────────────
LOG_LEVEL=INFO

# ─────────────────────────────────────────────────────────────────────
# CHROMADB (RAG)
# ─────────────────────────────────────────────────────────────────────
CHROMA_PERSIST_DIRECTORY=./chroma_db
CHROMA_COLLECTION_NAME=course_materials

# ─────────────────────────────────────────────────────────────────────
# GDPR / PRIVACY
# ─────────────────────────────────────────────────────────────────────
ANONYMIZE_EXPORTS=true
K_ANONYMITY_LEVEL=5
DATA_RETENTION_DAYS=365
